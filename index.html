<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Geolocation</title>
	<!-- Include Leaflet CSS and JavaScript -->
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-xxlPYhljVH8n2wGzv3BPrLIDNz76n8TD+Dr9pobksd/dKjBzJ7LZz+rPpAaSzTzT" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <style>
     body {
  font-family: 'Open Sans', sans-serif;
  background-color: #f2f2f2;
}

#container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}
 #map-container {
        height: 400px;
        width: 100%;
        margin-bottom: 30px;
        border: 1px solid black;
      }

h1 {
  font-size: 42px;
  margin: 0 0 30px 0;
  text-align: center;
  color: #333;
  text-shadow: 1px 1px 0 #fff;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 0 30px 0;
  border: 1px solid #ccc;
}

table td, table th {
  border: 1px solid #ddd;
  padding: 12px;
  text-align: left;
}

table th {
  background-color: #f2f2f2;
  font-weight: bold;
}

@media (max-width: 600px) {
  h1 {
    font-size: 28px;
  }
  table td, table th {
    font-size: 16px;
    padding: 8px;
  }
}
footer {
  background-color: #333;
  color: #fff;
  padding: 20px 0;
   margin-top: 50px;
}

footer .container {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

footer p {
  margin: 0 10px;
}

footer a {
  color: #fff;
  text-decoration: none;
}

footer a:hover {
  text-decoration: underline;
}
   </style>
  </head>
  <body>
    <div id="container">
      <h1>IP Geolocation</h1>
	  <script>
      // JavaScript code
      window.addEventListener('load', function() {
  // Mendapatkan alamat IP pengguna
  fetch('https://api.ipify.org/?format=json')
    .then(function(response) {
      return response.json();
    })
    .then(function(data) {
      // Menampilkan alamat IP pengguna di dalam elemen H1
      var h1 = document.querySelector('h1');
      h1.textContent = 'Your IP Address: ' + data.ip;
      
      // Memeriksa apakah alamat IP pengguna terdaftar di daftar hitam
      let url = "https://mxtoolbox.com/api/v1/blacklist/check?ip=" + data.ip;

      fetch(url)
        .then(response => response.json())
        .then(data => {
          var icon = document.createElement('i');
          icon.style.fontSize = '20px';
          icon.style.marginLeft = '5px';
          if (data.IsBlacklisted) {
            h1.textContent += ' (Bad IP)';
            h1.style.color = 'red';
            icon.classList.add('fa', 'fa-times', 'text-danger');
          } else {
            h1.textContent += ' (Good IP)';
            h1.style.color = 'green';
            icon.classList.add('fa', 'fa-check', 'text-success');
          }
          h1.appendChild(icon);
        })
        .catch(error => {
          console.error(error);
        });
    })
    .catch(function(error) {
      console.log(error);
    });
});
    </script>
<center>
<div id="aswift_2_host" style="border: none; height: 250px; width: 300px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;" tabindex="0" title="Advertisement" aria-label="Advertisement"><iframe id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0;width:300px;height:250px;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-google&amp;output=html&amp;h=250&amp;adk=1897245940&amp;adf=1523481722&amp;w=300&amp;lmt=1668939523&amp;format=300x250&amp;url=https%3A%2F%2Fcontoh-bloglagi.blogspot.com%2F&amp;host=ca-host-pub-1556223355139109&amp;wgl=1&amp;uach=WyJXaW5kb3dzIiwiMC4xLjAiLCJ4ODYiLCIiLCIxMDYuMC41MjQ5LjExOSIsW10sZmFsc2UsbnVsbCwiMzIiLFtbIkNocm9taXVtIiwiMTA2LjAuNTI0OS4xMTkiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMDYuMC41MjQ5LjExOSJdLFsiTm90O0E9QnJhbmQiLCI5OS4wLjAuMCJdXSxmYWxzZV0.&amp;dt=1669611445477&amp;bpp=3&amp;bdt=891&amp;idt=318&amp;shv=r20221110&amp;mjsv=m202211100101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;prev_fmts=634x90%2C634x90%2C0x0&amp;nras=1&amp;correlator=6552000100140&amp;frm=20&amp;pv=1&amp;ga_vid=502991502.1659509067&amp;ga_sid=1669611446&amp;ga_hid=1838879268&amp;ga_fc=1&amp;u_tz=-300&amp;u_his=1&amp;u_h=768&amp;u_w=1366&amp;u_ah=738&amp;u_aw=1366&amp;u_cd=24&amp;u_sd=1&amp;dmc=2&amp;adx=186&amp;ady=55&amp;biw=663&amp;bih=667&amp;scr_x=0&amp;scr_y=0&amp;eid=44759875%2C44759926%2C44759837%2C42531706%2C44768832&amp;oid=2&amp;pvsid=1152179006195178&amp;tmod=58311339&amp;uas=0&amp;nvt=2&amp;ref=https%3A%2F%2Fcontoh-bloglagi.blogspot.com%2F&amp;eae=0&amp;fc=896&amp;brdim=0%2C0%2C0%2C0%2C1366%2C0%2C1366%2C738%2C680%2C667&amp;vis=1&amp;rsz=%7C%7CleE%7C&amp;abl=CS&amp;pfx=0&amp;fu=0&amp;bc=31&amp;ifi=3&amp;uci=a!3&amp;fsb=1&amp;xpc=Pdb8esbkWt&amp;p=https%3A//contoh-bloglagi.blogspot.com&amp;dtd=324" data-google-container-id="a!3" data-google-query-id="CPm-9K2L0PsCFW-qSwUdj2YA7w" data-load-complete="true"></iframe></div><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></center>

      <table>
        <tr>
          <th>Parameter</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>Latitude</td>
          <td id="latitude"></td>
        </tr>
        <tr>
          <td>Longitude</td>
          <td id="longitude"></td>
        </tr>
        <tr>
          <td>City</td>
          <td id="city"></td>
        </tr>
        <tr>
          <td>Region Code</td>
          <td id="regionCode"></td>
        </tr>
        <tr>
          <td>Region Name</td>
          <td id="regionName"></td>
        </tr>
        <tr>
          <td>Country Code</td>
          <td id="countryCode"></td>
        </tr>
        <tr>
          <td>Country Name</td>
		  <td id="countryName"></td>
        </tr>
      </table>
	  <center>
<div id="aswift_2_host" style="border: none; height: 250px; width: 300px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-block;" tabindex="0" title="Advertisement" aria-label="Advertisement"><iframe id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0;width:300px;height:250px;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-google&amp;output=html&amp;h=250&amp;adk=1897245940&amp;adf=1523481722&amp;w=300&amp;lmt=1668939523&amp;format=300x250&amp;url=https%3A%2F%2Fcontoh-bloglagi.blogspot.com%2F&amp;host=ca-host-pub-1556223355139109&amp;wgl=1&amp;uach=WyJXaW5kb3dzIiwiMC4xLjAiLCJ4ODYiLCIiLCIxMDYuMC41MjQ5LjExOSIsW10sZmFsc2UsbnVsbCwiMzIiLFtbIkNocm9taXVtIiwiMTA2LjAuNTI0OS4xMTkiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMDYuMC41MjQ5LjExOSJdLFsiTm90O0E9QnJhbmQiLCI5OS4wLjAuMCJdXSxmYWxzZV0.&amp;dt=1669611445477&amp;bpp=3&amp;bdt=891&amp;idt=318&amp;shv=r20221110&amp;mjsv=m202211100101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;prev_fmts=634x90%2C634x90%2C0x0&amp;nras=1&amp;correlator=6552000100140&amp;frm=20&amp;pv=1&amp;ga_vid=502991502.1659509067&amp;ga_sid=1669611446&amp;ga_hid=1838879268&amp;ga_fc=1&amp;u_tz=-300&amp;u_his=1&amp;u_h=768&amp;u_w=1366&amp;u_ah=738&amp;u_aw=1366&amp;u_cd=24&amp;u_sd=1&amp;dmc=2&amp;adx=186&amp;ady=55&amp;biw=663&amp;bih=667&amp;scr_x=0&amp;scr_y=0&amp;eid=44759875%2C44759926%2C44759837%2C42531706%2C44768832&amp;oid=2&amp;pvsid=1152179006195178&amp;tmod=58311339&amp;uas=0&amp;nvt=2&amp;ref=https%3A%2F%2Fcontoh-bloglagi.blogspot.com%2F&amp;eae=0&amp;fc=896&amp;brdim=0%2C0%2C0%2C0%2C1366%2C0%2C1366%2C738%2C680%2C667&amp;vis=1&amp;rsz=%7C%7CleE%7C&amp;abl=CS&amp;pfx=0&amp;fu=0&amp;bc=31&amp;ifi=3&amp;uci=a!3&amp;fsb=1&amp;xpc=Pdb8esbkWt&amp;p=https%3A//contoh-bloglagi.blogspot.com&amp;dtd=324" data-google-container-id="a!3" data-google-query-id="CPm-9K2L0PsCFW-qSwUdj2YA7w" data-load-complete="true"></iframe></div><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></center>
<center>
	  <!-- Create a div element to hold the map -->
	<div id="map-container">
		<div id="map" style="height: 100%;"></div>
	</div>

	<script>
		// Initialize the map with a center coordinate and zoom level
		var map = L.map('map').setView([0, 0], 13);

		// Add a tile layer
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
attribution: 'Map data Â© <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
maxZoom: 18,
id: 'mapbox.streets'
}).addTo(map);
	// Get the user's IP address using an API call
	fetch('https://api.ipify.org/?format=json')
		.then(response => response.json())
		.then(data => {
			// Get the user's geolocation using the IP address and an API call
			fetch(`https://ipapi.co/${data.ip}/json/`)
				.then(response => response.json())
				.then(data => {
					// Set the latitude and longitude values
					document.getElementById('latitude').innerHTML = data.latitude;
					document.getElementById('longitude').innerHTML = data.longitude;

					// Set the city, region code, region name, country code, and country name values
					document.getElementById('city').innerHTML = data.city;
					document.getElementById('regionCode').innerHTML = data.region_code;
					document.getElementById('regionName').innerHTML = data.region;
					document.getElementById('countryCode').innerHTML = data.country;
					document.getElementById('countryName').innerHTML = data.country_name;

					// Set the map center to the user's location
					map.setView([data.latitude, data.longitude], 13);

					// Add a marker to the map at the user's location
					var marker = L.marker([data.latitude, data.longitude]).addTo(map);
				})
				.catch(error => console.log(error));
		})
		.catch(error => console.log(error));
</script>
</center>

<footer>
  <div class="container">
    <p>&copy; 2023 Dedi Alnas. All rights reserved.</p>
    <p>Designed by <a href="#">Dedi Alnas</a></p>
  </div>
</footer>


</div>
</body>
</html>
